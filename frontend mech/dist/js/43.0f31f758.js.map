{"version":3,"file":"js/43.0f31f758.js","mappings":"gPACEA,EAAAA,EAAAA,IAOM,8BANDC,EAAAA,QAAS,IACZ,YAAuBC,EAAAA,IACvBC,EAAAA,EAAAA,IAAmEC,EAAAA,EAAAA,CAA3DC,QAAK,eAAEC,EAAAA,mBAAmB,gB,mBAAe,IAAU,UAAV,iB,OACjDH,EAAAA,EAAAA,IAAmEC,EAAAA,EAAAA,CAA3DC,QAAK,eAAEC,EAAAA,mBAAmB,gB,mBAAe,IAAU,UAAV,iB,OACjDH,EAAAA,EAAAA,IAAyEC,EAAAA,EAAAA,CAAjEC,QAAK,eAAEC,EAAAA,mBAAmB,mB,mBAAkB,IAAa,UAAb,oB,OACpDH,EAAAA,EAAAA,IAA+EC,EAAAA,EAAAA,CAAvEC,QAAK,eAAEC,EAAAA,mBAAmB,sB,mBAAqB,IAAgB,UAAhB,uB,QAK3D,OACEC,OACE,MAAO,CACLC,OAAQ,KAEZ,EACAC,UACEC,KAAKC,UAAUC,eAAeC,QAAQ,aAEtCH,KAAKI,OAAS,IAAIC,UAAUL,KAAKM,OAAS,WAAWJ,eAAeC,QAAQ,aAC5EI,QAAQC,IAAI,4BAEZR,KAAKI,OAAOK,OAAS,KACnBF,QAAQC,IAAI,0BACZR,KAAKI,OAAOM,KAAK,WAAW,EAG9BV,KAAKI,OAAOO,iBAAiB,WAAYC,IACvCL,QAAQC,IAAI,uBAAwBI,EAAMf,KAAK,IAGjDG,KAAKI,OAAOS,QAAWD,IACrBL,QAAQC,IAAI,6BAA8BI,GAC1CZ,KAAKI,OAAOM,KAAK,iBAAiB,EAGpCV,KAAKI,OAAOU,QAAWC,IACrBf,KAAKO,QAAQC,IAAI,iBAAkBO,EAAM,CAG7C,EACAC,QAAS,CACPf,UAAUgB,GACR,MAAMpB,EAAO,IAAIqB,gBAAgB,CAC/BC,SAAUF,IAGZjB,KAAKoB,MACFC,KAAKrB,KAAKsB,YAAc,kBAAkBzB,GAC1C0B,MAAMC,IACLjB,QAAQC,IAAIgB,EAAS3B,MACrBG,KAAKF,OAAS0B,EAAS3B,IAAI,GAEjC,EACA4B,mBAAmBC,GACjB1B,KAAKI,OAAOM,KAAKgB,GAEjB,MAAM7B,EAAO,IAAIqB,gBAAgB,CAC/BC,SAAUnB,KAAKF,OAAOqB,SACtBQ,MAAO3B,KAAKF,OAAO8B,IAAID,MACvBE,MAAO7B,KAAKF,OAAOgC,IAAID,MACvBE,QAAS/B,KAAKF,OAAOiC,QACrBC,OAAQ9B,eAAeC,QAAQ,UAC/BuB,OAAQA,IAMV1B,KAAKoB,MACFC,KAAKrB,KAAKsB,YAAc,qBAAsBzB,GAC9C0B,MAAMC,IACLjB,QAAQC,IAAIgB,EAAS3B,MACrBG,KAAKF,OAAO4B,OAASF,EAAS3B,KAAK6B,MAAK,GAE9C,I,QCxEJ,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://frontend/./src/views/ExampleView2.vue","webpack://frontend/./src/views/ExampleView2.vue?1f44"],"sourcesContent":["<template>\r\n  <div>\r\n    {{ ticket }}\r\n    <v-divider></v-divider>\r\n    <v-btn @click=\"updateTicketStatus('On the way')\">On the way</v-btn>\r\n    <v-btn @click=\"updateTicketStatus('Processing')\">Processing</v-btn>\r\n    <v-btn @click=\"updateTicketStatus('Finish:Garage')\">Finish:Garage</v-btn>\r\n    <v-btn @click=\"updateTicketStatus('Finish:Completed')\">Finish:Completed</v-btn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      ticket: null\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getTicket(sessionStorage.getItem(\"ticketID\"))\r\n\r\n    this.socket = new WebSocket(this.$wsApi + \"shop/ws/\"+sessionStorage.getItem(\"ticketID\"));\r\n    console.log(\"Attempting Connection...\");\r\n\r\n    this.socket.onopen = () => {\r\n      console.log(\"Successfully Connected\");\r\n      this.socket.send(\"Accepted\");\r\n    };\r\n\r\n    this.socket.addEventListener(\"message\", (event) => {\r\n      console.log(\"Message from server \", event.data);\r\n    });\r\n\r\n    this.socket.onclose = (event) => {\r\n      console.log(\"Socket Closed Connection: \", event);\r\n      this.socket.send(\"Client Closed!\");\r\n    };\r\n\r\n    this.socket.onerror = (error) => {\r\n      this.console.log(\"Socket Error: \", error);\r\n    };\r\n\r\n  },\r\n  methods: {\r\n    getTicket(id) {\r\n      const data = new URLSearchParams({\r\n        ticketID: id,\r\n      });\r\n\r\n      this.axios\r\n        .post(this.$backendApi + \"shop/get-ticket\",data)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          this.ticket = response.data;\r\n        });\r\n    },\r\n    updateTicketStatus(status){\r\n      this.socket.send(status);\r\n\r\n      const data = new URLSearchParams({\r\n        ticketID: this.ticket.ticketID,\r\n        cusID: this.ticket.cus.cusID,\r\n        carID: this.ticket.car.carID,\r\n        problem: this.ticket.problem,\r\n        shopID: sessionStorage.getItem(\"shopID\"),\r\n        status: status,\r\n        // lat:\r\n        // lng:\r\n        // description:\r\n      });\r\n\r\n      this.axios\r\n        .post(this.$backendApi + \"shop/update-ticket\", data)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          this.ticket.status = response.data.status\r\n        })\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./ExampleView2.vue?vue&type=template&id=0bfc81e3\"\nimport script from \"./ExampleView2.vue?vue&type=script&lang=js\"\nexport * from \"./ExampleView2.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\acp49\\\\Desktop\\\\workSpace\\\\Mech-Mobile-M-2-\\\\frontend mech\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","$data","_component_v_divider","_createVNode","_component_v_btn","onClick","$options","data","ticket","mounted","this","getTicket","sessionStorage","getItem","socket","WebSocket","$wsApi","console","log","onopen","send","addEventListener","event","onclose","onerror","error","methods","id","URLSearchParams","ticketID","axios","post","$backendApi","then","response","updateTicketStatus","status","cusID","cus","carID","car","problem","shopID","__exports__","render"],"sourceRoot":""}